<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Kolon - 포인트</title>
<style>
  :root{
    --bg:#faf9fb; --card:#fff; --bd:#ece7f6; --ink:#1d1b20; --muted:#7b7488;
    --pill:#f6f2ff; --accent:#6b47d6;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--ink);
       font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans KR',sans-serif}
  /* header */
  header{position:sticky;top:0;z-index:5;background:var(--bg);border-bottom:1px solid var(--bd)}
  .bar{max-width:1100px;margin:0 auto;height:60px;display:flex;align-items:center;justify-content:space-between;padding:0 16px}
  .brand{font-weight:800;font-size:20px;text-decoration:none;color:inherit}
  .nav a{border:1px solid var(--bd);background:var(--pill);padding:6px 10px;border-radius:999px;margin-left:8px;text-decoration:none;color:inherit}
  .badge{display:inline-flex;align-items:center;justify-content:center;background:var(--accent);color:#fff;min-width:18px;height:18px;border-radius:999px;font-size:12px;padding:0 6px;margin-left:6px}
  /* page */
  .wrap{max-width:1100px;margin:0 auto;padding:16px}
  .crumb{display:inline-flex;align-items:center;gap:8px;color:var(--muted);font-size:13px;margin:8px 0}
  h1{margin:8px 0 14px}
  .card{background:var(--card);border:1px solid var(--bd);border-radius:14px;padding:16px}
  .grid{display:grid;grid-template-columns:80px 1fr;gap:16px;align-items:center}
  .avatar{width:64px;height:64px;border-radius:50%;background:#e9e4ff;border:1px solid var(--bd);display:grid;place-items:center;font-weight:700;color:#4b3db8}
  .big{font-size:34px;font-weight:900;letter-spacing:-.5px}
  .muted{color:var(--muted);font-size:13px}
</style>
</head>
<body>
<header>
  <div class="bar">
    <a class="brand" href="main.html">Kolon</a>
    <nav class="nav">
      <a href="login.html">로그인</a>
      <a href="signup.html">회원가입</a>
      <a href="cart.html">장바구니 <span id="cartCount" class="badge">0</span></a>
      <a href="mypage.html">마이페이지</a>
      <a href="points.html">포인트</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <div class="crumb">포인트</div>

  <!-- 프로필 -->
  <section class="card" style="margin-bottom:14px">
    <div class="grid">
      <div class="avatar">👤</div>
      <div>
        <div id="userName" style="font-weight:800">사용자</div>
        <div class="muted">내 계정 관리</div>
      </div>
    </div>
  </section>

  <!-- 잔여 포인트 (조회만) -->
  <section class="card">
    <div class="muted" style="margin-bottom:8px">잔여 포인트</div>
    <div><span id="point" class="big">0</span> <span style="font-weight:700">P</span></div>
    <p class="muted" style="margin-top:12px">※ 포인트는 RDS에서 관리되며 현재는 로컬 시뮬레이션 값입니다.</p>
  </section>
</main>

<script>
/* 장바구니 배지 */
const CART_KEY='cart';
const cart = (()=>{ try{return JSON.parse(localStorage.getItem(CART_KEY))||[]}catch(_){return[]} })();
document.getElementById('cartCount').textContent = cart.reduce((s,i)=>s+(+i.qty||0),0);

/* 사용자/포인트 로드: 기본값 0P */
const USER_KEY='user';
let user;
try{ user = JSON.parse(localStorage.getItem(USER_KEY)) || {}; }catch(_){ user = {}; }
if(typeof user.points !== 'number'){ user.points = 0; }  // 신규 기본 0P
if(!user.name){ user.name = '사용자'; }
localStorage.setItem(USER_KEY, JSON.stringify(user));

/* UI 반영 */
document.getElementById('userName').textContent = user.name;
document.getElementById('point').textContent = (user.points||0).toLocaleString('ko-KR');
</script>
</body>
</html>
